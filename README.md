# Визуализация Telegram-каналов на карте Чувашии

Этот проект представляет собой инструмент для сбора информации о Telegram каналах и группах и их визуализации на интерактивной карте Чувашии. Проект позволяет увидеть географическое распределение каналов и получить информацию об их активности.

## Функциональность

- Сбор информации о всех доступных чатах и каналах
- Сохранение фотографий профилей чатов
- Сбор статистики (количество участников, количество сообщений)
- Создание интерактивной карты Чувашии с визуализацией каналов
- Отображение каналов в виде кружков, размер которых зависит от количества подписчиков
- Интерактивные подсказки с информацией о каналах при наведении
- Сохранение данных в JSON формате

## Требования

- Python 3.7+
- Telegram API credentials (API_ID и API_HASH)

## Установка

1. Клонируйте репозиторий:
```bash
git clone [url-репозитория]
cd telegram_channels_parser
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` в корневой директории проекта и добавьте следующие переменные:
```
API_ID=ваш_api_id
API_HASH=ваш_api_hash
```

## Использование

1. Запустите основной скрипт:
```bash
python main.py
```

2. При первом запуске вам потребуется авторизоваться в Telegram через терминал.

3. После сбора данных запустите генератор карты:
```bash
python gen_tg_cheb_map.py
```

Генератор создаст интерактивную HTML-страницу с визуализацией каналов на карте Чувашии. Каждый канал будет представлен в виде кружка, размер которого зависит от количества подписчиков. При наведении на кружок будет отображаться информация о канале, включая:
- Название канала
- Количество подписчиков
- Количество сообщений
- Ссылку на канал
- Аватар канала

Результат будет сохранен в файл `data/map.html`.

## Структура проекта

- `main.py` - основной скрипт для сбора данных
- `gen_tg_cheb_map.py` - дополнительный скрипт для генерации карты
- `data/` - директория для хранения собранных данных
  - `chat_photos/` - фотографии профилей чатов
  - `telegram_groups.json` - информация о чатах в JSON формате

## Зависимости

- tgcrypto - для шифрования
- pyrogram - для работы с Telegram API
- shapely - для работы с геометрическими данными
- asyncio - для асинхронного выполнения
- python-dotenv - для работы с переменными окружения

## Примечания

- Скрипт автоматически пропускает некоторые каналы (список в переменной `disabled_channels`)
- При достижении лимитов API скрипт автоматически делает паузу
- Все данные сохраняются в директории `data/`

## Автор и контакты

Проект разработан ([@daniilak](https://t.me/daniilak))

По всем вопросам, предложениям и замечаниям обращайтесь:
- В Telegram: [@daniilak](https://t.me/daniilak)
- На сайте: [mapcheb.ru](https://mapcheb.ru/)
